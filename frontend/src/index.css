@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    margin: 0;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
      sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  code {
    font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',
      monospace;
  }
}

@layer components {
  /* Mobile-first responsive design */
  .container-responsive {
    @apply w-full px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto;
  }

  .btn-primary {
    @apply bg-blue-600 hover:bg-blue-700 text-white font-medium py-2.5 px-3 sm:px-5 rounded-md transition-colors duration-200 border border-blue-600 hover:border-blue-700 text-sm sm:text-base;
  }

  .btn-secondary {
    @apply bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-2.5 px-3 sm:px-5 rounded-md transition-colors duration-200 border border-gray-300 hover:border-gray-400 text-sm sm:text-base;
  }

  .btn-outline {
    @apply border-2 border-blue-600 bg-transparent text-blue-600 hover:bg-blue-600 hover:text-white font-medium py-2.5 px-3 sm:px-5 rounded-md transition-all duration-300 text-sm sm:text-base;
  }

  .btn-mobile {
    @apply w-full sm:w-auto justify-center;
  }

  .form-input {
    @apply w-full px-3 py-2.5 border border-gray-300 rounded-md bg-white text-gray-900 text-sm transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 placeholder-gray-500;
  }

  .form-select {
    @apply w-full px-3 py-2.5 border border-gray-300 rounded-md bg-white text-gray-900 text-sm transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500;
  }

  .form-textarea {
    @apply w-full px-3 py-2.5 border border-gray-300 rounded-md bg-white text-gray-900 text-sm transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-y placeholder-gray-500;
  }

  .form-label {
    @apply text-gray-700 font-medium text-sm mb-2 block;
  }

  .error-message {
    @apply bg-red-600 text-white px-3 py-2.5 rounded-md mb-5 border border-red-700;
  }

  .status-badge {
    @apply px-2 py-1 rounded-full text-xs font-bold;
  }

  .status-badge-alive {
    @apply bg-green-600 text-white;
  }

  .status-badge-dead {
    @apply bg-red-600 text-white;
  }

  .sexe-badge {
    @apply text-lg;
  }

  .table-header {
    @apply bg-gray-100 text-gray-700 font-bold cursor-pointer select-none hover:bg-gray-200 transition-colors duration-150;
  }

  .btn-edit {
    @apply bg-transparent hover:bg-gray-200 text-gray-700 border-none rounded-md px-3 py-1.5 text-sm cursor-pointer transition-colors duration-200;
  }

  .btn-delete {
    @apply bg-transparent hover:bg-red-600 text-white border-none rounded-md px-3 py-1.5 text-sm cursor-pointer transition-colors duration-200;
  }

  .btn-view-animals {
    @apply bg-green-600 hover:bg-green-700 text-white border-none rounded-md px-3 py-1.5 text-sm cursor-pointer font-medium transition-colors duration-200;
  }

  .section-title {
    @apply m-0 text-gray-900 text-2xl font-semibold;
  }

  /* Styles pour les modales et conteneurs de gestion */
  .modal-overlay {
    @apply fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center z-50;
  }

  .modal-container {
    @apply bg-white rounded-xl p-6 max-w-2xl mx-auto text-gray-900 shadow-2xl;
  }

  .management-container {
    @apply bg-white rounded-xl p-6 max-w-4xl mx-auto my-5 text-gray-900 shadow-2xl;
  }

  .management-header {
    @apply flex justify-between items-center mb-5 pb-4 border-b-2 border-gray-200;
  }

  .admin-badge {
    @apply bg-yellow-500 text-yellow-900 px-3 py-1 rounded-full text-xs font-bold;
  }

  .close-btn {
    @apply bg-red-600 hover:bg-red-700 text-white border-none rounded-full w-9 h-9 cursor-pointer transition-colors duration-200 flex items-center justify-center;
  }

  .user-list {
    @apply space-y-3 mb-5;
  }

  .user-item {
    @apply bg-white border border-gray-200 rounded-lg p-4 flex justify-between items-center;
  }

  .user-info-detail {
    @apply flex flex-col gap-1;
  }

  .user-name {
    @apply font-semibold text-gray-900;
  }

  .user-email {
    @apply text-sm text-gray-600;
  }

  .role-badge {
    @apply px-2 py-1 rounded text-xs font-bold;
  }

  .role-badge.owner {
    @apply bg-blue-600 text-white;
  }

  .role-badge.collaborator {
    @apply bg-green-600 text-white;
  }

  .user-actions {
    @apply flex gap-2;
  }

  .action-btn {
    @apply px-3 py-1.5 text-sm cursor-pointer transition-colors duration-200 border-none rounded;
  }

  .remove-btn {
    @apply bg-red-600 hover:bg-red-700 text-white;
  }

  .add-user-section {
    @apply bg-white border border-gray-200 rounded-lg p-4 mb-4;
  }

  .search-input {
    @apply w-full mb-4 px-3 py-2 border border-gray-300 rounded bg-white text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500;
  }

  .available-users-list {
    @apply max-h-64 overflow-y-auto space-y-2 mb-4;
  }

  .available-user-item {
    @apply flex justify-between items-center p-3 bg-white rounded border border-gray-200;
  }

  .add-btn {
    @apply bg-green-600 hover:bg-green-700 disabled:opacity-60 disabled:cursor-not-allowed text-white px-4 py-2 text-sm cursor-pointer transition-colors duration-200 border-none rounded;
  }

  .cancel-btn {
    @apply bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 text-sm cursor-pointer transition-colors duration-200 border-none rounded;
  }

  .no-permission-notice {
    @apply bg-yellow-600 text-yellow-100 p-4 rounded-lg text-center font-medium;
  }

  .form-actions {
    @apply flex justify-end gap-3;
  }

  .header-controls {
    @apply flex items-center gap-4;
  }

  /* Classes pour ElevageUsersManagement */
  .current-users-section h4,
  .add-user-form h4 {
    @apply text-gray-700 font-medium mb-3;
  }

  .users-list {
    @apply space-y-3 mb-5;
  }

  .user-info {
    @apply flex flex-col gap-1;
  }

  .user-role {
    @apply px-2 py-1 rounded text-xs font-bold;
  }

  .user-role.owner {
    @apply bg-blue-600 text-white;
  }

  .user-role.collaborator {
    @apply bg-green-600 text-white;
  }

  .added-date {
    @apply text-xs text-gray-500 italic;
  }

  .remove-btn {
    @apply px-3 py-1.5 text-sm cursor-pointer transition-colors duration-200 border-none rounded bg-red-600 hover:bg-red-700 text-white;
  }

  .add-users-section {
    @apply mt-6;
  }

  .add-user-btn {
    @apply btn-primary;
  }

  .add-user-form {
    @apply bg-white border border-gray-200 rounded-lg p-4 mb-4;
  }

  .available-users-list {
    @apply max-h-64 overflow-y-auto space-y-2 mb-4;
  }

  .user-role-badge {
    @apply px-2 py-1 rounded text-xs font-bold;
  }

  .no-users,
  .no-available-users {
    @apply text-center text-gray-600 py-4 italic;
  }

  .loading {
    @apply text-center text-gray-700 py-4;
  }

  .header-actions {
    @apply flex items-center gap-3;
  }

  /* Classes pour ElevageDetail - Réutilise le style existant */
  .elevage-detail {
    @apply p-8 max-w-6xl mx-auto;
  }

  .detail-header {
    @apply management-header;
  }

  .detail-header h1 {
    @apply section-title;
  }

  .back-btn {
    @apply btn-secondary;
  }

  .elevage-info-card {
    @apply management-container;
  }

  .info-grid {
    @apply grid grid-cols-1 md:grid-cols-2 gap-4 text-gray-700;
  }

  .info-grid strong {
    @apply text-gray-900 font-semibold;
  }

  /* Section des races améliorée */
  .races-section {
    @apply col-span-full;
  }

  .races-header {
    @apply flex justify-between items-center mb-4 pb-2 border-b border-gray-600;
  }

  .races-count {
    @apply text-xs bg-blue-600 text-white px-2 py-1 rounded-full font-medium;
  }

  .races-grid {
    @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3;
  }

  .race-card {
    @apply bg-white border border-gray-200 rounded-lg p-3 hover:bg-gray-50 transition-all duration-200 hover:shadow-md transform hover:scale-105;
  }

  .race-name {
    @apply font-semibold text-gray-900 text-sm mb-1;
  }

  .race-type {
    @apply text-xs text-blue-700 bg-blue-100 px-2 py-1 rounded-full inline-block;
  }

  .no-races {
    @apply flex items-center gap-2 text-gray-600 italic bg-gray-50 rounded-lg p-3 border border-dashed border-gray-300;
  }

  .no-races-icon {
    @apply text-base;
  }

  .animals-section {
    @apply space-y-4;
  }

  .animals-header {
    @apply flex justify-between items-center mb-4;
  }

  .animals-header h2 {
    @apply section-title;
  }

  .animals-nav {
    @apply flex gap-3;
  }

  .animals-nav button {
    @apply px-4 py-2 rounded transition-colors duration-200;
  }

  .animals-nav button:not(.active) {
    @apply btn-secondary;
  }

  .animals-nav button.active {
    @apply btn-primary;
  }

  .read-only-notice {
    @apply no-permission-notice;
  }

  .filters {
    @apply flex flex-wrap gap-4 mb-4 p-4 bg-gray-50 rounded-lg;
  }

  .filter-group {
    @apply flex flex-col gap-1;
  }

  .filter-group label {
    @apply form-label;
  }

  .filter-group select,
  .filter-group input {
    @apply form-input text-sm;
  }

  .animals-table-container {
    @apply overflow-x-auto bg-white rounded-lg;
  }

  .animals-table,
  .descendants-table {
    @apply w-full text-sm;
  }

  .animals-table th,
  .descendants-table th {
    @apply table-header p-3 text-left;
  }

  .animals-table td,
  .descendants-table td {
    @apply p-3 border-b border-gray-200 text-gray-700;
  }

  .animals-table tr.deceased,
  .descendants-table tr.deceased {
    @apply opacity-60;
  }

  .sexe-badge {
    @apply text-lg;
  }

  .status-badge.vivant {
    @apply status-badge-alive;
  }

  .status-badge.mort {
    @apply status-badge-dead;
  }

  /* Responsive table styles */
  .table-responsive {
    @apply w-full overflow-x-auto;
  }

  .table-mobile {
    @apply block sm:table w-full;
  }

  .table-mobile thead {
    @apply hidden sm:table-header-group;
  }

  .table-mobile tbody {
    @apply block sm:table-row-group;
  }

  .table-mobile tr {
    @apply block sm:table-row border-b border-gray-200 mb-4 sm:mb-0 bg-gray-50 sm:bg-transparent rounded-lg sm:rounded-none p-4 sm:p-0;
  }

  .table-mobile td {
    @apply block sm:table-cell text-left sm:text-center px-0 sm:px-3 py-1 sm:py-2.5 border-0 sm:border-gray-200;
  }

  .table-mobile td:before {
    content: attr(data-label) ": ";
    @apply font-bold text-gray-700 sm:hidden;
  }

  .table-mobile td.no-label:before {
    content: "";
  }

  /* Mobile navigation */
  .nav-mobile {
    @apply flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2;
  }

  .nav-mobile button {
    @apply w-full sm:w-auto text-center;
  }

  .parents {
    @apply text-xs space-y-1;
  }

  .actions {
    @apply flex gap-2;
  }

  .btn-descendants,
  .btn-mark-dead {
    @apply btn-edit;
  }

  .descendants-view {
    @apply space-y-4;
  }

  .descendants-header {
    @apply flex justify-between items-center;
  }

  .no-animals,
  .no-descendants {
    @apply text-center py-8 text-gray-600;
  }

  .read-only-text {
    @apply text-gray-600 italic;
  }

  .form-container {
    @apply management-container;
  }
}
